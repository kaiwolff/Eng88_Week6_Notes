# Introduction to SQL

### What is a database?

A collection of information. A database is a structured set of data. In the case of SQL, the databases are stored digitally. A database system allows the 

Databases are crucial to most online interactions. E.g. logins, booking systems, contact lists.


We need to structure data in a way that allows the easy querying of informations. Making queries is an essential operation we need in a database. For example, we need to be able to search an address book for the address associated with a particular person.

Starts with deciding on the ‘Fields’ to use in a database. All fields will be in a table, with fields corresponding to a particular bit of information.

E.g. First Name, Last name, Birthday, etc.

Table is displayed in columns and rows.

A column represents a category of information.A row represents all the information about a single object inside the database, e.g all the information on a customer in an order database.

Other key terminology: Table - predefined format of rows and columns that define an entity. Aka File. Tables exist inside a database. A database can contain several tables. E.g. a supermarket database might have a database with tables of payments, of customers, of employees, and of stock levels. A field is a cell in a table.

DBMS - DataBase Management System. Allows computer to perform database functions of storing, retrieving, adding, deleting and modifying data. 

Relational Databases - these contain connected data. Tables should be related.

For example - have Reviews_DB, a database of reviews. Could contain a database called book_reviews of the reviews, listing the book name, author_id, date of release, publication status. Email addresses etc.

Then have the author_id refer to a table called author_details, where information on the author can be found. 

Could also have a table linking the publishers of reviewed books, and then a separate table again containing the contact details of various publishers.

A few standards. Use lowercase with underscores as spaces for naming tables. E.g table_customer_info, or table_library_staff

Types of Database

Flat-File
Everything in one Table. Good for small number of records related to single topic

Relational
Ability to separate masses of data into numerous tables
Linked through use of keys

Big Data
MongoDB, Vertica, etc
Used in Data Analytics and Business Intelligence
Also useful in IoT


### Relationship Types

One to One
Each row in A is linked to no more than one row in Table B Attribute of the relationship, not the tables. E.g. A student may have one row in the contact_info table

#### One to Many

Each row in the table can be related to many rows in the relating table
Allows frequently used information o eb saved once in a table and referenced many times in other tables. An employee might have several tasks to do, for example.

#### Many to Many

Oner or more rows in a table can be related to 0,1, or many rows in another table

A 3rd table called a mapping or link table is needed in order to implement this relationship. A customer could purchase many products for example.

#### Primary Key

Used to uniquely identify each record in the table

Most tables should have one. Each table can have more than one column which is part of its primary key (known as a composite key). Examples include order numbers or order line numbers.

The primary key can either be an attribute that is guaranteed to be unique (like an NI number) or can be generated by the management system.

The management system will enforce the uniqueness of the primary key, which means it will not allow repeated records to be part of the table.Constraints

Must be unique
Must always have an entry
Value must never change
Maximum of one primary key (although you can have a composite key)

Classic example of a compositie key would be order number and line number (like below)




Foreign Key

Foreign keys are used to create relationships between keys.

Foreign keys ensure that the rows in different tables correspond to each other correctly.
Constraint is used to stop actions that would destroy linking between tables.

No uniqueness constraint
Can have any number of foreign keys.
Row cannot be deleted from a reference table if used as a foreign key

Advantages of foreign keys are that we can change aspects of a particular thing for several dependents at once - such as updating a job description or a user groups privileges. We can also standardise input, compartmentalise information better, and overcome language barriers.



Designing a Database

Usually start with an entity relationship diagram, such as this one:



Decide on relationships, e.g. one-to-many when going author to books database.


	See presentation for an example of a timesheet database

Database Tools

Microsoft access - local database setup for small amount of data. Not as powerful as oracle or mysql
Microsoft SQL server. Designed to be accessed by more users and be internetaccessible, and so on

PostgreSQL (aka postgres) SQL-based relational database. Older, but widely used as it is open source database tool. Follows SQL standards.

SQLite - file-based embedded relational database.Popular choice for small databases.

MySQL Server - most widely used, cross platform. Works with SQL as most others do. By far most widely SQL database tool.

Redis - “key-value store”. More lax on standards compared to some other database tools. Past use cases include a set of keys with changeable values (such as a cloud computing project with hundreds of containers working in groups across different servers). The number of containers should be read by the apps working in the cloud. Run Redis database on the server where it can be queried to ask how many containers are working right now.


MongoDB - based on JSON . used for big data

Oracle - generally used for big projects - not free.

SQL stands for structured query language.


Notes from practical - mostly commands:


docker-compose up -d runs container as a daemon
docker exec -it mysql_dbms mysql -u root -p

